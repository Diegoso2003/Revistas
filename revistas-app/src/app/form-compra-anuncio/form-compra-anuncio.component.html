<div class="centrar">
  <div class="card" style="width: 30rem; margin: auto">
    <div class="card-body">
      <div
        *ngIf="error"
        id="validationServer03Feedback"
        style="color: red"
        class="text-center"
      >
        {{ mensajeError }}
      </div>
      <div
        *ngIf="exito"
        style="color: green"
        class="text-center"
      >
        {{ mensajeExito }}
      </div>
      <h5 class="card-title text-center">Compra de anuncios</h5>
      <form
        class="row g-3 justify-content-center"
        [formGroup]="anuncioForm"
        novalidate
        (submit)="enviar($event)"
      >
        <div class="col-md-12">
          <label for="tipo" class="form-label">Tipo de anuncio</label>
          <select
            class="form-select is-valid"
            [ngClass]="{ 'is-invalid': hasErrors('tipo', 'required') }"
            id="validationCustom04"
            formControlName="tipo"
          >
            <option value="TEXTO">Texto</option>
            <option value="IMAGEN">Texto e imagen</option>
            <option value="VIDEO">Video</option>
          </select>
          @if(hasErrors('tipo', 'required')){
          <div id="validationServer03Feedback" class="invalid-feedback">
            Porfavor seleccione un tipo de anuncio.
          </div>
          }
        </div>
        <div class="col-md-12">
          <label for="vigencia" class="form-label">Vigencia</label>
          <select
            class="form-select is-valid"
            [ngClass]="{ 'is-invalid': hasErrors('vigencia', 'required') }"
            id="validationCustom04"
            formControlName="vigencia"
          >
            <option value="DIA_1">1 dia de duracion</option>
            <option value="DIA_3">3 dias de duracion</option>
            <option value="SEMANA_1">1 semana de duracion</option>
            <option value="SEMANA_2">2 semanas de duracion</option>
          </select>
          @if(hasErrors('vigencia', 'required')){
          <div id="validationServer03Feedback" class="invalid-feedback">
            Porfavor seleccione una vigencia para el anuncio.
          </div>
          }
        </div>
        <div class="col-md-12">
          <label for="validationServer01" class="form-label"
            >Fecha del anuncio</label
          >
          <input
            type="date"
            class="form-control is-valid"
            id="validationServer01"
            value="Mark"
            [ngClass]="{ 'is-invalid': hasErrors('fecha', 'required') }"
            formControlName="fecha"
          />
        </div>
        @if(hasErrors('fecha', 'required')){
        <div id="validationServer03Feedback" class="invalid-feedback">
          Porfavor seleccione una fecha para el anuncio.
        </div>
        }
        <div class="col-md-12" *ngIf="anuncioForm.get('texto')?.enabled">
          <label for="texto" class="form-label">Texto del anuncio</label>
          <textarea
            class="form-control is-valid"
            id="texto"
            formControlName="texto"
            rows="3"
          ></textarea>
          <div
            *ngIf="hasErrors('texto', 'required')"
            id="validationServer03Feedback"
            class="invalid-feedback"
          >
            Por favor ingrese el texto del anuncio.
          </div>
        </div>
        <div class="col-md-12" *ngIf="anuncioForm.get('imagen')?.enabled">
          <label for="imagen" class="form-label">Imagen del anuncio</label>
          <input
            type="file"
            class="form-control"
            id="imagen"
            formControlName="imagen"
          />
          <div
            *ngIf="hasErrors('imagen', 'required')"
            id="validationServer03Feedback"
            class="invalid-feedback"
          >
            Por favor seleccione una imagen para el anuncio.
          </div>
        </div>
        <div class="col-md-12" *ngIf="anuncioForm.get('video')?.enabled">
          <label for="video" class="form-label">Video del anuncio</label>
          <input
            type="text"
            class="form-control"
            id="video"
            formControlName="video"
          />
          <div
            *ngIf="hasErrors('video', 'required')"
            id="validationServer03Feedback"
            class="invalid-feedback"
          >
            Por favor ingrese una url de video para el anuncio.
          </div>
        </div>

        <p class="text-center">Costo total: {{ precioTotal | currency:'Q' }}</p>
        <div class="col-12 text-center">
          <button class="btn btn-outline-success">Comprar Anuncio</button>
        </div>
      </form>
    </div>
  </div>
</div>
